<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Display SPC Mesoscale Analysis</title>
</head>
<body>
    <label for="sectorSelect">Select Sector:</label>
    <select id="sectorSelect" onchange="updateParameters()">
        <option value="s19">CONUS</option>
        <option value="s21">Great Lakes</option>
    </select>

    <label for="parameterSelect">Select Parameter:</label>
    <select id="parameterSelect" onchange="displayGIF()">
    </select>

    <img id="gifDisplay" src="" alt="Selected GIF" style="max-width: 100%; height: auto;">

    <script>
        const parameters = {
            s19: ['mlcp', 'sbcp'], // Example parameters for CONUS
            s21: ['mlcp', 'sbcp'] // Example parameters for Great Lakes
        };

        function updateParameters() {
            const sectorSelect = document.getElementById('sectorSelect');
            const parameterSelect = document.getElementById('parameterSelect');
            const selectedSector = sectorSelect.value;

            parameterSelect.innerHTML = '';


            parameters[selectedSector].forEach(param => {
                const option = document.createElement('option');
                option.value = param;
                option.textContent = param.toUpperCase(); 
                parameterSelect.appendChild(option);
            });

            displayGIF();
        }

        function displayGIF() {
            const sectorSelect = document.getElementById('sectorSelect');
            const parameterSelect = document.getElementById('parameterSelect');
            const gifDisplay = document.getElementById('gifDisplay');

            const baseUrl = 'https://www.spc.noaa.gov/exper/mesoanalysis/';
            const sectorCode = sectorSelect.value;
            const parameterCode = parameterSelect.value;
            const gifUrl = `${baseUrl}${sectorCode}/${parameterCode}/${parameterCode}_sf.gif`;

            gifDisplay.src = gifUrl;
        }

        window.onload = updateParameters;
    </script>
</body>
</html>
